[#top-preface-introduction]
= Introduction

ifndef::include-only-once[]
:root-path: ../
:imagesdir: {root-path}/_images
:includedir: {root-path}/_images
include::{root-path}_config.adoc[]
endif::[]

== Overview

=== Motivation

Accurate sensor simulation that can replicate physical phenomena is necessary for safety evaluation of AD/ADAS in virtual space. 

However, previous simulations were heavily limited by computational power and available memory, and while they appeared visually believable, they were not physically accurate.
As a result, previous simulations were primarily used during the early stages of development, where precise physical modeling was not necessarily required. 

With increased computing power and streamlined simulation techniques, virtual testing plays a more powerful role at all stages of system development.
This correlates with the growing need to accurately represent the real world in simulations, so-called digital twins, especially as the need for physical sensor simulation increases. 

One fundamental step to describing the real world virtually is a full physical description of all objects, including their material properties and their 3D geometries.

It is extremely important to standardize the representation of data and attributes, such as scenarios, road data, and asset data, necessary for AD/ADAS simulation in order to promote the circulation of these data and to obtain consistent results among different systems. 

Standardization activities have been conducted for scenarios and road data using OpenSCENARIO, OpenDRIVE, OpenCRG, and other standards.
ASAM OpenMATERIAL closes the gap to advance standardization by providing standardizes definitions of material properties and 3D geometry.

=== The two parts of OpenMATERIAL

ASAM OpenMATERIAL has two main parts.

* The Material part contains definitions and file formats to store and exchange material properties. These can either be physical properties, such as surface roughness, permittivity, index of refraction, etc., or measured data, such as wavelength and angle depended reflectance values.
* The Geometry part contains node hierarchies of different objects classes.
These structures contain a uniform naming scheme and coordinate definitions to enable the exchange of 3D models between different simulation systems.

=== How everything fits together

ASAM OpenMATERIAL specifies different file formats for the definition of assets, material properties and the mapping between the two.
<<fig-openmaterial-overview>> visualizes the different file formats and their connections.

[#fig-openmaterial-overview]
.Overview of ASAM OpenMATERIAL file formats and data flow
image::openmaterial_overview.png[,1100]

The first touching point with an OpenMATERIAL compliant 3D model is the asset file.

The *asset file* is a JSON file with the file extension .xoma (OpenMATERIAL Asset).
A detailed definition of the https://github.com/asam-ev/OpenMATERIAL/blob/main/schemas/asset_schema.json[asset file JSON schema] is given in xref:geometry/asset-schema.adoc[].
It contains metadata, such as description, unique identifier, version information, copyright, etc.
The asset files also contains a material texture assignment table.
In this table, dedicated material mapping textures can be assigned to materials within a 3D data files.
This provides to possibility to map comprehensive material properties to the geometry on a texture level.
Each texel of the texture contains a 24 Bit code (8 Bit values in the rba channels).
This code is mapped to a material property file in separate material mapping file, described in the next section.
The material mapping file is linked in the asset file with a URI.

The *material mapping file* is separated from the asset file to facilitate resuability.
This way, multiple different assets may be linked to the same material mapping and simulation systems may have a unified mapping table for all assets.
A detailed definition of the https://github.com/asam-ev/OpenMATERIAL/blob/main/schemas/mapping_schema.json[mapping file JSON schema] is given in xref:geometry/mapping-schema.adoc[].
It contains metadata, such as description, unique identifier, version information, etc. and the material mapping table.
Every row in this table maps a material name of an rgb value to a material property file.
Furthermore, each row contains a human readable description of the material.
This enables two mapping possibilities:

* Mapping one material property file per material in the 3D model.
* Mapping a texture code of an OpenMATERIAL assignment texture to a material property file. This enables more detailed differentiation between material properties.

The *material property file* contains metadata and the properties of one material.
Similar to the mapping file, material property files may also be reused for different assets.
A detailed definition of the https://github.com/asam-ev/OpenMATERIAL/blob/main/schemas/material_schema.json[material file JSON schema] is given in xref:material/material-schema.adoc[].
Some material properties depend on other simulation quantities, e.g. wavelength of the simulated sensor, temperature, humidity, etc.
To not overload one material file with these big look-up tables, they are put into auxiliary look-up table files.
These files are linked with URIs in the main material property file.
The following look-up tables are defined:

* xref:material/material-emp-schema.adoc[Electromagnetic properties]
* xref:material/material-optical-schema.adoc[Optical properties]
* xref:material/material-brdf-schema.adoc[Bidirectional reflectance distribution functions (BRDFs)]

== Conventions and notations

[#sec-modal-verbs]
=== Modal verbs

To ensure compliance with the {THIS_STANDARD} specification, users need to be able to distinguish between requirements, recommendations, permissions, possibilities and capabilities, and external constraints.

The following rules for using modal verbs apply:

[#tab-modal-verbs]
.Verbal forms for expressions of provisions
[%header, cols="20, 15, 65"]
|===
|Provision                  |Verbal form        |Definition
|Requirement                |shall, shall not   |A requirement conveys objectively verifiable criteria to be fulfilled and from which no deviation is permitted if conformance with the document is to be claimed.
|Recommendation             |should, should not |A recommendation conveys a suggested possible choice or course of action deemed to be particularly suitable without necessarily mentioning or excluding others.
|Permission                 |may                |A permission conveys consent or liberty (or opportunity) to do something.
|Possibility and capability |can, cannot        |A possibility conveys expected or conceivable material, physical or causal outcome. +
                                                 A capability conveys the ability, fitness, or quality necessary to do or achieve a specified thing.
|External constraint        |must               |An external constraint or obligation on the user of the document, for example laws of nature or particular conditions existing in some countries or regions, that is not stated as a provision of the document.
                                                 External constraints are not requirements of the document.
                                                 They are given for the information of the user.
|===

[#sec-normative-and-informative-content]
=== Normative and informative content

Content in this specification can be normative or informative.
The sections listed in <<tab-normative-informative-content>> are normative or informative per definition.
Further informative content is shown in table <<tab-informative-text-components>>.

[#tab-normative-informative-content]
.Normative and informative sections
[%header, cols=2*]
|===
|Section                                      |Indication
|Foreword                                     |Informative
|Introduction                                 |Informative
|Scope                                        |Normative
|Normative references                         |Informative
|Terms and definitions                        |Normative
|Abbreviations                                |Normative
|Backward compatibility                       |Normative
|First to last specification-specific section |Normative
|Annexes                                      |Annexes can be normative or informative. The annex heading contains the indication "(normative)" or "(informative)".
|Bibliography                                 |Informative
|===

All other sections in this specification are normative.

[#tab-informative-text-components]
.Informative text components
[%header, cols="30, 70"]
|===
|Text components   |Hints
|Notes             |The document shall be usable without notes.
|Footnotes         |The document shall be usable without footnotes.
|Examples          |The document shall be usable without examples.
|Sequence diagrams |The document shall be usable without sequence diagrams.
|===

Notes, footnotes, and examples shall not contain requirements or any information considered indispensable for the use of the document, for example, instructions or permission.

== Deliverables

The following deliverables are provided for {THIS_STANDARD}:

> Define the deliverables of this project here
